<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Paulo de Tarço]]></title>
  <link href="http://ptarco.github.io/atom.xml" rel="self"/>
  <link href="http://ptarco.github.io/"/>
  <updated>2013-08-21T23:28:13-03:00</updated>
  <id>http://ptarco.github.io/</id>
  <author>
    <name><![CDATA[Paulo de Tarço]]></name>
    <email><![CDATA[paulopjazz@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Blocks, Procs e Lambdas]]></title>
    <link href="http://ptarco.github.io/blog/2013/08/21/blocks-procs-e-lambdas/"/>
    <updated>2013-08-21T22:35:00-03:00</updated>
    <id>http://ptarco.github.io/blog/2013/08/21/blocks-procs-e-lambdas</id>
    <content type="html"><![CDATA[<hr />

<!--more-->


<h2>Blocks</h2>

<p>Writing methods that can accept blocks is simple. There&rsquo;s no special syntax needed, you can simply write the method as you would any other. To call any block passed to the method, use the yield keyword. Like any other method call, when you use the yield keyword you can leave it as it is and call the block without any parameters. Or, if you wish, you can add a parameter list as you would with a method call.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def call_this_block
</span><span class='line'>  yield
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>call_this_block { puts "tweet" }</span></code></pre></td></tr></table></div></figure>


<h4>Optional Block</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Optional
</span><span class='line'>  def initialize
</span><span class='line'>     yield self if block_given?
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<h2>Procs</h2>

<p>Proc objects are blocks of code that have been bound to a set of local variables. Once bound, the code may be called in different contexts and still access those variables.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def gen_times(factor)
</span><span class='line'>  return Proc.new {|n| n*factor }
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>times3 = gen_times(3)
</span><span class='line'>times5 = gen_times(5)
</span><span class='line'>
</span><span class='line'>times3.call(12)               #=> 36
</span><span class='line'>times5.call(5)                #=> 25
</span><span class='line'>times3.call(times5.call(4))   #=> 60</span></code></pre></td></tr></table></div></figure>


<h2>Lambdas</h2>

<p>You may have heard of lambdas before. Perhaps you&rsquo;ve used them in other languages. Despite the fancy name, a lambda is just a function&hellip; peculiarly&hellip; without a name. They&rsquo;re anonymous, little functional spies sneaking into the rest of your code. Lambdas in Ruby are also objects, just like everything else! The last expression of a lambda is its return value, just like regular functions. As boring and familiar as that all sounds, it gives us a lot of power.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>my_proc = lambda { puts "tweet" }
</span><span class='line'>my_proc.call # => tweet</span></code></pre></td></tr></table></div></figure>


<h4>Multiple Lambdas</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Comment
</span><span class='line'>  def post(
</span><span class='line'>      if authenticate?(@user, @password)
</span><span class='line'>          # submit the comment
</span><span class='line'>          success
</span><span class='line'>          success.call
</span><span class='line'>      else
</span><span class='line'>          error.call
</span><span class='line'>      end
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>comment   = Comment.new('Yeeeeeep!')
</span><span class='line'>success = -> { puts "Sent!" }
</span><span class='line'>error   = -> { raise 'Auth Error' }
</span><span class='line'>comment.post(success, error)</span></code></pre></td></tr></table></div></figure>


<h4>Lambda to Block</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>blablas = ["First", "Second"]
</span><span class='line'>blablas.each do |blabla|
</span><span class='line'>puts blabla                   #Lets try converting to a proc
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>blablas = ["First", "Second"]
</span><span class='line'>printer = lambda { |blabla| puts blabla }
</span><span class='line'>
</span><span class='line'>blablas.each(&printer)       
</span><span class='line'>
</span><span class='line'>#‘&’ turns proc into block 
</span><span class='line'>#because each expects a block, not a proc</span></code></pre></td></tr></table></div></figure>


<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Gem agendare-schedule]]></title>
    <link href="http://ptarco.github.io/blog/2013/08/17/gem-agendare-schedule/"/>
    <updated>2013-08-17T12:22:00-03:00</updated>
    <id>http://ptarco.github.io/blog/2013/08/17/gem-agendare-schedule</id>
    <content type="html"><![CDATA[<hr />

<!--more-->


<h4>VERSION = &ldquo;0.0.2&rdquo;</h4>

<p>The basic structure to implement schedule project. You have 3 objects to implement yours views, because the logic is implemented in this gem.</p>

<h2>Installation</h2>

<p>Add this line to your application&rsquo;s Gemfile:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'agendare-schedule'</span></code></pre></td></tr></table></div></figure>


<p>And then execute:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle</span></code></pre></td></tr></table></div></figure>


<h2>Usage</h2>

<p>Create controlllers.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails  generate agendare:install controllers</span></code></pre></td></tr></table></div></figure>


<p>Create models.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails  generate agendare:install models</span></code></pre></td></tr></table></div></figure>


<p>Create migrations.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails  generate agendare:install migrations</span></code></pre></td></tr></table></div></figure>


<p>Import the structure to database.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake db:migrate</span></code></pre></td></tr></table></div></figure>


<p>Add this lines in your config/routes.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>resources :schedules
</span><span class='line'>   resources :scheduleds
</span><span class='line'>   resources :users</span></code></pre></td></tr></table></div></figure>


<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Gem previsao-clima-tempo]]></title>
    <link href="http://ptarco.github.io/blog/2013/08/17/gem-previsao-clima-tempo/"/>
    <updated>2013-08-17T00:00:00-03:00</updated>
    <id>http://ptarco.github.io/blog/2013/08/17/gem-previsao-clima-tempo</id>
    <content type="html"><![CDATA[<hr />

<!--more-->


<h4>VERSION = &ldquo;0.1.4&rdquo;</h4>

<p>Communication with Clima Tempo accessing information about the weather of Brazil.</p>

<h2>Installation</h2>

<p>Add this line to your application&rsquo;s Gemfile:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'previsao-clima-tempo'</span></code></pre></td></tr></table></div></figure>


<p>And then execute:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle</span></code></pre></td></tr></table></div></figure>


<p>Or install it yourself as:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install previsao-clima-tempo</span></code></pre></td></tr></table></div></figure>


<h2>Usage</h2>

<h3>From Webservice</h3>

<h5>.new</h5>

<p>Instantiating a object.The city code should be informed.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '3156')</span></code></pre></td></tr></table></div></figure>


<h5>.now</h5>

<p>Returns an object PrevisaoDia with information from the current day.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '3156').now</span></code></pre></td></tr></table></div></figure>


<h5>.tomorrow</h5>

<p>Returns an object PrevisaoDia with information the next day.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '3156').tomorrow</span></code></pre></td></tr></table></div></figure>


<h5>.days</h5>

<p>Returns a collection of objects PrevisaoDia with information of days referenced.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '3156').days(13) maximum of 13 days from the current day</span></code></pre></td></tr></table></div></figure>


<h5>.day</h5>

<p>Returns an object PrevisaoDia with information the day referenced.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '3156').day(date)</span></code></pre></td></tr></table></div></figure>


<h3>From Page</h3>

<h4>(contains more information than is extracted from the webservice)</h4>

<h5>.nowFromPage</h5>

<p>Returns a hash of condtions of weather from page</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '314').nowFromPage</span></code></pre></td></tr></table></div></figure>


<p>return:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>      :last_update: 18:00
</span><span class='line'>      :wind:
</span><span class='line'>        :velocity: 3 Km/h
</span><span class='line'>        :direction: Su-sudeste
</span><span class='line'>      :moisture: 91%
</span><span class='line'>      :condition: Poucas nuvens
</span><span class='line'>      :pression: 1022 hPa
</span><span class='line'>      :temperature: 13ºC  
</span><span class='line'>   }</span></code></pre></td></tr></table></div></figure>


<h5>.fullFromPage</h5>

<p>Returns a hash of condtions of weather whith 5 days from page.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '314').fullFromPage</span></code></pre></td></tr></table></div></figure>


<p>return:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>      1:
</span><span class='line'>        :last_update: 19:00
</span><span class='line'>        :date: Sábado, 17/08/2013
</span><span class='line'>        :condition: Sol com muitas nuvens durante o dia e períodos de céu nublado. Noite
</span><span class='line'>          com muitas nuvens.
</span><span class='line'>        :wind:
</span><span class='line'>          :velocity: 6km/h
</span><span class='line'>          :direction: Su-sudeste
</span><span class='line'>        :probability_of_precipitation:
</span><span class='line'>          :volume: 0mm
</span><span class='line'>          :percentage: 0%
</span><span class='line'>        :moisture_relative_complete:
</span><span class='line'>          :max: 100%
</span><span class='line'>          :min: 49%
</span><span class='line'>        :temperature:
</span><span class='line'>          :max: 16º
</span><span class='line'>          :min: 7º
</span><span class='line'>        :uv: Alto
</span><span class='line'>        :sunrise: 06h13
</span><span class='line'>        :sunset: 17h36
</span><span class='line'>      2: ...
</span><span class='line'>   }</span></code></pre></td></tr></table></div></figure>


<h5>.trendsFromPage</h5>

<p>Returns a hash of condtions of weather whith 5 days from page.
If today is 16-12-2013 returns 21,22,23,24,25 trends.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PrevisaoClimaTempo.new(:codCity => '314').trendsFromPage</span></code></pre></td></tr></table></div></figure>


<p>return:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>      1:
</span><span class='line'>        :date: Quinta-Feira, 22/08/2013
</span><span class='line'>        :condition: Sol com algumas nuvens. Não chove.
</span><span class='line'>        :probability_of_precipitation:
</span><span class='line'>          :volume: 0mm
</span><span class='line'>          :percentage: 0%
</span><span class='line'>        :temperature:
</span><span class='line'>          :max: 23º
</span><span class='line'>          :min: 7º
</span><span class='line'>      2: 
</span><span class='line'>   }</span></code></pre></td></tr></table></div></figure>


<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Blog + Octopress + GitHub]]></title>
    <link href="http://ptarco.github.io/blog/2013/08/11/blog-plus-octopress-plus-github/"/>
    <updated>2013-08-11T18:04:00-03:00</updated>
    <id>http://ptarco.github.io/blog/2013/08/11/blog-plus-octopress-plus-github</id>
    <content type="html"><![CDATA[<hr />

<!--more-->


<h3>Quick Summary for creating and deploying a post</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake new_post["New Post"]
</span><span class='line'>$ rake generate
</span><span class='line'>$ git add .
</span><span class='line'>$ git commit -am "Some comment here." 
</span><span class='line'>$ git push origin source
</span><span class='line'>$ rake deploy</span></code></pre></td></tr></table></div></figure>


<h3>Installation Process</h3>

<p>Go to the terminal and clone the Octopress repo:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'>cd octopress</span></code></pre></td></tr></table></div></figure>


<h3>Check the version of Ruby is 1.9.2. This version is required.</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby --version
</span><span class='line'>bundle install</span></code></pre></td></tr></table></div></figure>


<h3>This command installs Octopress</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake install</span></code></pre></td></tr></table></div></figure>


<h3>Deploying to Github</h3>

<p>Create a new Github repository. If you are creating a personal blog create a repo called:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>username.github.com</span></code></pre></td></tr></table></div></figure>


<p>After creating the repo, run the following command.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$rake setup_github_pages</span></code></pre></td></tr></table></div></figure>


<p>Which is supposed to:</p>

<hr />

<ul>
<li>init a git repo</li>
<li>rename the branch from master to source</li>
<li>add your repo to origin.</li>
</ul>


<hr />

<p>Running the previous command shows this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Enter the read/write url for your repository</span></code></pre></td></tr></table></div></figure>


<p>You have to enter it like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git@github.com:username/username.github.com.git</span></code></pre></td></tr></table></div></figure>


<p>For me it didn’t rename the branch from master to source or add my remote repo. I did it manually (see below)</p>

<h3>Add your remote repo</h3>

<p>Check what remote repositories you have:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git remote -v</span></code></pre></td></tr></table></div></figure>


<p>My output was:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>octopress   git://github.com/imathis/octopress.git (fetch)
</span><span class='line'>octopress   git://github.com/imathis/octopress.git (push)</span></code></pre></td></tr></table></div></figure>


<p>To add your repo do:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git remote add origin git@github.com:username/username.github.com.git</span></code></pre></td></tr></table></div></figure>


<p>Rename the branch from master to source</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$git branch
</span><span class='line'>* master
</span><span class='line'>$git branch -m master source
</span><span class='line'>$git branch
</span><span class='line'>* source</span></code></pre></td></tr></table></div></figure>


<p>Preview on development stage</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake preview</span></code></pre></td></tr></table></div></figure>


<p>Then browse to:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>localhost:4000</span></code></pre></td></tr></table></div></figure>


<p>If you get this error:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Sorry, I cannot find /</span></code></pre></td></tr></table></div></figure>


<p>Read this link: Deploying to a Subdirectory</p>

<h3>First push to Github</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$rake generate
</span><span class='line'>$git add .
</span><span class='line'>$git commit -am "First deploy to github." 
</span><span class='line'>$git push origin source
</span><span class='line'>$rake deploy</span></code></pre></td></tr></table></div></figure>


<p>Create a new posting</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$rake new_post["Creating a Github Blog Using Octopress"]</span></code></pre></td></tr></table></div></figure>


<p>Go to the app folder source/_posts to find the new posting
Edit the posting and then follow these steps</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$rake generate
</span><span class='line'>$git add .
</span><span class='line'>$git commit -m "Initial blog post." 
</span><span class='line'>$git push origin source
</span><span class='line'>$rake deploy</span></code></pre></td></tr></table></div></figure>


<p>Add a custom domain
Go to source folder and create 2 files :
(mate if you are using Textmate)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd source
</span><span class='line'>mate CNAME
</span><span class='line'>mate .nojekyll</span></code></pre></td></tr></table></div></figure>


<p>Open the CNAMe file and this line:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>www.yourdomain.com</span></code></pre></td></tr></table></div></figure>


<p>The NoJekyll file will make Octopress works in Github Pages.
Push again to github</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake generate
</span><span class='line'>git add .
</span><span class='line'>git add -am 'domain configuration'
</span><span class='line'>git push origin source
</span><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>


<p>Github need time to read your CNAME and updating the sites.</p>

<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails 3 generators in gem]]></title>
    <link href="http://ptarco.github.io/blog/2013/08/11/rails-3-generators-in-gem/"/>
    <updated>2013-08-11T18:02:00-03:00</updated>
    <id>http://ptarco.github.io/blog/2013/08/11/rails-3-generators-in-gem</id>
    <content type="html"><![CDATA[<hr />

<!--more-->


<h3>This is the folders structure in a gem.</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>lib
</span><span class='line'>  - generators
</span><span class='line'>    - gemname
</span><span class='line'>      install_generator.rb
</span><span class='line'>      - templates
</span><span class='line'>        (template files)</span></code></pre></td></tr></table></div></figure>


<h3>Install Generator</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'rails/generators'
</span><span class='line'>
</span><span class='line'>module ModuleName
</span><span class='line'>  module Generators
</span><span class='line'>    class InstallGenerator &lt; Rails::Generators::NamedBase
</span><span class='line'>      include Rails::Generators::Migration
</span><span class='line'>      
</span><span class='line'>      source_root File.expand_path("../templates", __FILE__)
</span><span class='line'>      
</span><span class='line'>      generators...
</span><span class='line'>      
</span><span class='line'>      def self.next_migration_number(path)
</span><span class='line'>          @migration_number = current_migration_number(path) + 1
</span><span class='line'>          ActiveRecord::Migration.next_migration_number(@migration_number)
</span><span class='line'>      end
</span><span class='line'>  
</span><span class='line'>    end
</span><span class='line'>   
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<h3>Generators&hellip;</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def generators
</span><span class='line'>           
</span><span class='line'>    generate("controller" , "nameOfController")
</span><span class='line'>    
</span><span class='line'>    copy_file "fileWantYouCopy.rb"   , "app/models/destiniAndNameToCopiedFile.rb"
</span><span class='line'>    
</span><span class='line'>    migration_template("modelOfMigrate.rb"  , "db/migrate/modelOfMigrateDestini.rb")
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<h3>migration_template</h3>

<p>You need add this include to use migration_template</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>include Rails::Generators::Migration</span></code></pre></td></tr></table></div></figure>


<p>You need to implement next_migration_number</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def self.next_migration_number(path)
</span><span class='line'>      @migration_number = current_migration_number(path) + 1
</span><span class='line'>      ActiveRecord::Migration.next_migration_number(@migration_number)
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<hr />
]]></content>
  </entry>
  
</feed>
